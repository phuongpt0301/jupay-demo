import React, { useState } from 'react';
import { useNavigate } from 'react-router-dom';
import { ScreenType } from '../types';
import './screens.css';

/**
 * RegisterDocumentsScreen Component
 * Step 3 of 4 - Upload Required Documents
 */
const RegisterDocumentsScreen: React.FC = () => {
  const navigate = useNavigate();
  const [documents, setDocuments] = useState({
    nricFront: false,
    nricBack: false,
    selfie: false,
    proofOfAddress: false
  });

  const handleDocumentUpload = (docType: keyof typeof documents) => {
    setDocuments(prev => ({ ...prev, [docType]: true }));
  };

  const handleSubmit = () => {
    navigate(`/${ScreenType.REGISTER_VERIFICATION}`);
  };

  const handleBack = () => {
    navigate(`/${ScreenType.REGISTER_ADDRESS}`);
  };

  const allUploaded = Object.values(documents).every(val => val);

  return (
    <div className="register-screen">
      <div className="register-container">
        {/* Header */}
        <div className="register-header">
          <button className="back-btn" onClick={handleBack} aria-label="Go back">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M11.369 4.22462C11.7618 3.90427 12.3408 3.92686 12.7069 4.29298C13.073 4.65909 13.0956 5.2381 12.7753 5.63087L12.7069 5.70704L6.41399 12L12.7069 18.293L12.7753 18.3692C13.0956 18.7619 13.073 19.3409 12.7069 19.707C12.3408 20.0732 11.7618 20.0958 11.369 19.7754L11.2929 19.707L4.29289 12.707C3.90237 12.3165 3.90237 11.6835 4.29289 11.293L11.2929 4.29298L11.369 4.22462Z" fill="#565E6D" />
              <path d="M19 11C19.5523 11 20 11.4477 20 12C20 12.5523 19.5523 13 19 13L5 13C4.44772 13 4 12.5523 4 12C4 11.4477 4.44772 11 5 11L19 11Z" fill="#565E6D" />
            </svg>
          </button>
          <div className="register-header-text">
            <h1 className="register-title">Upload Required Documents</h1>
            <p className="register-step">Step 3 of 4</p>
          </div>
        </div>

        <div className="border" />

        {/* Instructions */}
        <p className="upload-instructions">
          Clear, well-lit photos required. Ensure all text is legible and no glare is present.
        </p>

        {/* Document Upload Cards */}
        <div className="document-list">
          <div className="document-card">
            <div className="document-header">
              <div className="document-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M21 9C21 8.73478 20.8946 8.48051 20.707 8.29297C20.5429 8.12883 20.3276 8.02757 20.0986 8.00488L20 8H17C16.7033 8 16.4214 7.86856 16.2314 7.64062L14.0312 5L9.96875 5L7.76855 7.64062C7.57856 7.86856 7.29674 8 7 8L4 8C3.73478 8 3.48051 8.10543 3.29297 8.29297C3.10543 8.48051 3 8.73478 3 9L3 18C3 18.2652 3.10543 18.5195 3.29297 18.707C3.48051 18.8946 3.73478 19 4 19L20 19C20.2652 19 20.5195 18.8946 20.707 18.707C20.8946 18.5195 21 18.2652 21 18L21 9ZM23 18C23 18.7957 22.6837 19.5585 22.1211 20.1211C21.5585 20.6837 20.7957 21 20 21L4 21C3.20435 21 2.44152 20.6837 1.87891 20.1211C1.3163 19.5585 1 18.7956 1 18L1 9C1 8.20435 1.3163 7.44152 1.87891 6.87891C2.44152 6.3163 3.20435 6 4 6L6.53125 6L8.73145 3.35938L8.80762 3.2793C8.99282 3.10135 9.24033 3 9.5 3L14.5 3L14.6104 3.00586C14.8656 3.03418 15.1023 3.15991 15.2686 3.35938L17.4688 6L20 6L20.2969 6.01465C20.9835 6.08291 21.6289 6.38671 22.1211 6.87891C22.6837 7.44152 23 8.20435 23 9L23 18Z" fill="#171A1F" />
                  <path d="M14 13C14 11.8954 13.1046 11 12 11C10.8954 11 10 11.8954 10 13C10 14.1046 10.8954 15 12 15C13.1046 15 14 14.1046 14 13ZM16 13C16 15.2091 14.2091 17 12 17C9.79086 17 8 15.2091 8 13C8 10.7909 9.79086 9 12 9C14.2091 9 16 10.7909 16 13Z" fill="#171A1F" />
                </svg>
              </div>
              <span className="document-name">NRIC Front</span>
              <button
                className="upload-icon-btn"
                onClick={() => handleDocumentUpload('nricFront')}
                aria-label="Upload NRIC Front"
              >
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M17.4701 7.51C17.4701 7.28987 17.3826 7.07882 17.2269 6.92316C17.0907 6.78693 16.912 6.70288 16.722 6.68405L16.6401 6.68L14.1501 6.68C13.9039 6.68 13.6699 6.5709 13.5122 6.38171L11.686 4.19L8.31418 4.19L6.48801 6.38171C6.33032 6.5709 6.09641 6.68 5.85012 6.68L3.36012 6.68C3.13998 6.68 2.92894 6.76751 2.77328 6.92316C2.61762 7.07882 2.53012 7.28987 2.53012 7.51L2.53012 14.98C2.53012 15.2001 2.61762 15.4112 2.77328 15.5668C2.92894 15.7225 3.13998 15.81 3.36012 15.81L16.6401 15.81C16.8602 15.81 17.0713 15.7225 17.2269 15.5668C17.3826 15.4112 17.4701 15.2001 17.4701 14.98L17.4701 7.51ZM19.1301 14.98C19.1301 15.6404 18.8676 16.2736 18.4006 16.7405C17.9337 17.2075 17.3005 17.47 16.6401 17.47L3.36012 17.47C2.69973 17.47 2.06658 17.2075 1.59961 16.7405C1.13265 16.2736 0.870117 15.6403 0.870117 14.98L0.870117 7.51C0.870117 6.84961 1.13265 6.21646 1.59961 5.74949C2.06658 5.28253 2.69973 5.02 3.36012 5.02H5.46105L7.28722 2.82828L7.35044 2.76182C7.50416 2.61412 7.70959 2.53 7.92512 2.53L12.0751 2.53L12.1667 2.53486C12.3786 2.55837 12.575 2.66272 12.7131 2.82828L14.5392 5.02H16.6401L16.8865 5.03216C17.4564 5.08881 17.9921 5.34097 18.4006 5.74949C18.8676 6.21646 19.1301 6.84961 19.1301 7.51L19.1301 14.98Z" fill="#565E6D" />
                  <path d="M11.6602 10.83C11.6602 9.91319 10.917 9.17001 10.0002 9.17001C9.08336 9.17001 8.34018 9.91319 8.34018 10.83C8.34018 11.7468 9.08336 12.49 10.0002 12.49C10.917 12.49 11.6602 11.7468 11.6602 10.83ZM13.3202 10.83C13.3202 12.6636 11.8337 14.15 10.0002 14.15C8.16659 14.15 6.68018 12.6636 6.68018 10.83C6.68018 8.99646 8.16659 7.51001 10.0002 7.51001C11.8337 7.51001 13.3202 8.99646 13.3202 10.83Z" fill="#565E6D" />
                </svg>

              </button>
            </div>
            <div className="document-progress">
              <div 
                className="document-progress-fill" 
                style={{ width: documents.nricFront ? '100%' : '0%' }}
              />
            </div>
            <div className="document-status">
              <span>{documents.nricFront ? 'Uploaded' : 'Ready for upload'}</span>
              <span>{documents.nricFront ? '100%' : '0%'} Uploaded</span>
            </div>
          </div>

          <div className="document-card">
            <div className="document-header">
              <div className="document-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M21 9C21 8.73478 20.8946 8.48051 20.707 8.29297C20.5429 8.12883 20.3276 8.02757 20.0986 8.00488L20 8H17C16.7033 8 16.4214 7.86856 16.2314 7.64062L14.0312 5L9.96875 5L7.76855 7.64062C7.57856 7.86856 7.29674 8 7 8L4 8C3.73478 8 3.48051 8.10543 3.29297 8.29297C3.10543 8.48051 3 8.73478 3 9L3 18C3 18.2652 3.10543 18.5195 3.29297 18.707C3.48051 18.8946 3.73478 19 4 19L20 19C20.2652 19 20.5195 18.8946 20.707 18.707C20.8946 18.5195 21 18.2652 21 18L21 9ZM23 18C23 18.7957 22.6837 19.5585 22.1211 20.1211C21.5585 20.6837 20.7957 21 20 21L4 21C3.20435 21 2.44152 20.6837 1.87891 20.1211C1.3163 19.5585 1 18.7956 1 18L1 9C1 8.20435 1.3163 7.44152 1.87891 6.87891C2.44152 6.3163 3.20435 6 4 6L6.53125 6L8.73145 3.35938L8.80762 3.2793C8.99282 3.10135 9.24033 3 9.5 3L14.5 3L14.6104 3.00586C14.8656 3.03418 15.1023 3.15991 15.2686 3.35938L17.4688 6L20 6L20.2969 6.01465C20.9835 6.08291 21.6289 6.38671 22.1211 6.87891C22.6837 7.44152 23 8.20435 23 9L23 18Z" fill="#171A1F" />
                  <path d="M14 13C14 11.8954 13.1046 11 12 11C10.8954 11 10 11.8954 10 13C10 14.1046 10.8954 15 12 15C13.1046 15 14 14.1046 14 13ZM16 13C16 15.2091 14.2091 17 12 17C9.79086 17 8 15.2091 8 13C8 10.7909 9.79086 9 12 9C14.2091 9 16 10.7909 16 13Z" fill="#171A1F" />
                </svg>

              </div>
              <span className="document-name">NRIC Back</span>
              <button
                className="upload-icon-btn"
                onClick={() => handleDocumentUpload('nricBack')}
                aria-label="Upload NRIC Back"
              >
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M17.4701 7.51C17.4701 7.28987 17.3826 7.07882 17.2269 6.92316C17.0907 6.78693 16.912 6.70288 16.722 6.68405L16.6401 6.68L14.1501 6.68C13.9039 6.68 13.6699 6.5709 13.5122 6.38171L11.686 4.19L8.31418 4.19L6.48801 6.38171C6.33032 6.5709 6.09641 6.68 5.85012 6.68L3.36012 6.68C3.13998 6.68 2.92894 6.76751 2.77328 6.92316C2.61762 7.07882 2.53012 7.28987 2.53012 7.51L2.53012 14.98C2.53012 15.2001 2.61762 15.4112 2.77328 15.5668C2.92894 15.7225 3.13998 15.81 3.36012 15.81L16.6401 15.81C16.8602 15.81 17.0713 15.7225 17.2269 15.5668C17.3826 15.4112 17.4701 15.2001 17.4701 14.98L17.4701 7.51ZM19.1301 14.98C19.1301 15.6404 18.8676 16.2736 18.4006 16.7405C17.9337 17.2075 17.3005 17.47 16.6401 17.47L3.36012 17.47C2.69973 17.47 2.06658 17.2075 1.59961 16.7405C1.13265 16.2736 0.870117 15.6403 0.870117 14.98L0.870117 7.51C0.870117 6.84961 1.13265 6.21646 1.59961 5.74949C2.06658 5.28253 2.69973 5.02 3.36012 5.02H5.46105L7.28722 2.82828L7.35044 2.76182C7.50416 2.61412 7.70959 2.53 7.92512 2.53L12.0751 2.53L12.1667 2.53486C12.3786 2.55837 12.575 2.66272 12.7131 2.82828L14.5392 5.02H16.6401L16.8865 5.03216C17.4564 5.08881 17.9921 5.34097 18.4006 5.74949C18.8676 6.21646 19.1301 6.84961 19.1301 7.51L19.1301 14.98Z" fill="#565E6D" />
                  <path d="M11.6602 10.83C11.6602 9.91319 10.917 9.17001 10.0002 9.17001C9.08336 9.17001 8.34018 9.91319 8.34018 10.83C8.34018 11.7468 9.08336 12.49 10.0002 12.49C10.917 12.49 11.6602 11.7468 11.6602 10.83ZM13.3202 10.83C13.3202 12.6636 11.8337 14.15 10.0002 14.15C8.16659 14.15 6.68018 12.6636 6.68018 10.83C6.68018 8.99646 8.16659 7.51001 10.0002 7.51001C11.8337 7.51001 13.3202 8.99646 13.3202 10.83Z" fill="#565E6D" />
                </svg>
              </button>
            </div>
            <div className="document-progress">
              <div 
                className="document-progress-fill" 
                style={{ width: documents.nricBack ? '100%' : '0%' }}
              />
            </div>
            <div className="document-status">
              <span>{documents.nricBack ? 'Uploaded' : 'Ready for upload'}</span>
              <span>{documents.nricBack ? '100%' : '0%'} Uploaded</span>
            </div>
          </div>

          <div className="document-card">
            <div className="document-header">
              <div className="document-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M21 9C21 8.73478 20.8946 8.48051 20.707 8.29297C20.5429 8.12883 20.3276 8.02757 20.0986 8.00488L20 8H17C16.7033 8 16.4214 7.86856 16.2314 7.64062L14.0312 5L9.96875 5L7.76855 7.64062C7.57856 7.86856 7.29674 8 7 8L4 8C3.73478 8 3.48051 8.10543 3.29297 8.29297C3.10543 8.48051 3 8.73478 3 9L3 18C3 18.2652 3.10543 18.5195 3.29297 18.707C3.48051 18.8946 3.73478 19 4 19L20 19C20.2652 19 20.5195 18.8946 20.707 18.707C20.8946 18.5195 21 18.2652 21 18L21 9ZM23 18C23 18.7957 22.6837 19.5585 22.1211 20.1211C21.5585 20.6837 20.7957 21 20 21L4 21C3.20435 21 2.44152 20.6837 1.87891 20.1211C1.3163 19.5585 1 18.7956 1 18L1 9C1 8.20435 1.3163 7.44152 1.87891 6.87891C2.44152 6.3163 3.20435 6 4 6L6.53125 6L8.73145 3.35938L8.80762 3.2793C8.99282 3.10135 9.24033 3 9.5 3L14.5 3L14.6104 3.00586C14.8656 3.03418 15.1023 3.15991 15.2686 3.35938L17.4688 6L20 6L20.2969 6.01465C20.9835 6.08291 21.6289 6.38671 22.1211 6.87891C22.6837 7.44152 23 8.20435 23 9L23 18Z" fill="#171A1F" />
                  <path d="M14 13C14 11.8954 13.1046 11 12 11C10.8954 11 10 11.8954 10 13C10 14.1046 10.8954 15 12 15C13.1046 15 14 14.1046 14 13ZM16 13C16 15.2091 14.2091 17 12 17C9.79086 17 8 15.2091 8 13C8 10.7909 9.79086 9 12 9C14.2091 9 16 10.7909 16 13Z" fill="#171A1F" />
                </svg>
              </div>
              <span className="document-name">Selfie with NRIC</span>
              <button
                className="upload-icon-btn"
                onClick={() => handleDocumentUpload('selfie')}
                aria-label="Upload Selfie"
              >
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M17.4701 7.51C17.4701 7.28987 17.3826 7.07882 17.2269 6.92316C17.0907 6.78693 16.912 6.70288 16.722 6.68405L16.6401 6.68L14.1501 6.68C13.9039 6.68 13.6699 6.5709 13.5122 6.38171L11.686 4.19L8.31418 4.19L6.48801 6.38171C6.33032 6.5709 6.09641 6.68 5.85012 6.68L3.36012 6.68C3.13998 6.68 2.92894 6.76751 2.77328 6.92316C2.61762 7.07882 2.53012 7.28987 2.53012 7.51L2.53012 14.98C2.53012 15.2001 2.61762 15.4112 2.77328 15.5668C2.92894 15.7225 3.13998 15.81 3.36012 15.81L16.6401 15.81C16.8602 15.81 17.0713 15.7225 17.2269 15.5668C17.3826 15.4112 17.4701 15.2001 17.4701 14.98L17.4701 7.51ZM19.1301 14.98C19.1301 15.6404 18.8676 16.2736 18.4006 16.7405C17.9337 17.2075 17.3005 17.47 16.6401 17.47L3.36012 17.47C2.69973 17.47 2.06658 17.2075 1.59961 16.7405C1.13265 16.2736 0.870117 15.6403 0.870117 14.98L0.870117 7.51C0.870117 6.84961 1.13265 6.21646 1.59961 5.74949C2.06658 5.28253 2.69973 5.02 3.36012 5.02H5.46105L7.28722 2.82828L7.35044 2.76182C7.50416 2.61412 7.70959 2.53 7.92512 2.53L12.0751 2.53L12.1667 2.53486C12.3786 2.55837 12.575 2.66272 12.7131 2.82828L14.5392 5.02H16.6401L16.8865 5.03216C17.4564 5.08881 17.9921 5.34097 18.4006 5.74949C18.8676 6.21646 19.1301 6.84961 19.1301 7.51L19.1301 14.98Z" fill="#565E6D" />
                  <path d="M11.6602 10.83C11.6602 9.91319 10.917 9.17001 10.0002 9.17001C9.08336 9.17001 8.34018 9.91319 8.34018 10.83C8.34018 11.7468 9.08336 12.49 10.0002 12.49C10.917 12.49 11.6602 11.7468 11.6602 10.83ZM13.3202 10.83C13.3202 12.6636 11.8337 14.15 10.0002 14.15C8.16659 14.15 6.68018 12.6636 6.68018 10.83C6.68018 8.99646 8.16659 7.51001 10.0002 7.51001C11.8337 7.51001 13.3202 8.99646 13.3202 10.83Z" fill="#565E6D" />
                </svg>
              </button>
            </div>
            <div className="document-progress">
              <div 
                className="document-progress-fill" 
                style={{ width: documents.selfie ? '100%' : '0%' }}
              />
            </div>
            <div className="document-status">
              <span>{documents.selfie ? 'Uploaded' : 'Ready for upload'}</span>
              <span>{documents.selfie ? '100%' : '0%'} Uploaded</span>
            </div>
          </div>

          <div className="document-card">
            <div className="document-header">
              <div className="document-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M21 9C21 8.73478 20.8946 8.48051 20.707 8.29297C20.5429 8.12883 20.3276 8.02757 20.0986 8.00488L20 8H17C16.7033 8 16.4214 7.86856 16.2314 7.64062L14.0312 5L9.96875 5L7.76855 7.64062C7.57856 7.86856 7.29674 8 7 8L4 8C3.73478 8 3.48051 8.10543 3.29297 8.29297C3.10543 8.48051 3 8.73478 3 9L3 18C3 18.2652 3.10543 18.5195 3.29297 18.707C3.48051 18.8946 3.73478 19 4 19L20 19C20.2652 19 20.5195 18.8946 20.707 18.707C20.8946 18.5195 21 18.2652 21 18L21 9ZM23 18C23 18.7957 22.6837 19.5585 22.1211 20.1211C21.5585 20.6837 20.7957 21 20 21L4 21C3.20435 21 2.44152 20.6837 1.87891 20.1211C1.3163 19.5585 1 18.7956 1 18L1 9C1 8.20435 1.3163 7.44152 1.87891 6.87891C2.44152 6.3163 3.20435 6 4 6L6.53125 6L8.73145 3.35938L8.80762 3.2793C8.99282 3.10135 9.24033 3 9.5 3L14.5 3L14.6104 3.00586C14.8656 3.03418 15.1023 3.15991 15.2686 3.35938L17.4688 6L20 6L20.2969 6.01465C20.9835 6.08291 21.6289 6.38671 22.1211 6.87891C22.6837 7.44152 23 8.20435 23 9L23 18Z" fill="#171A1F" />
                  <path d="M14 13C14 11.8954 13.1046 11 12 11C10.8954 11 10 11.8954 10 13C10 14.1046 10.8954 15 12 15C13.1046 15 14 14.1046 14 13ZM16 13C16 15.2091 14.2091 17 12 17C9.79086 17 8 15.2091 8 13C8 10.7909 9.79086 9 12 9C14.2091 9 16 10.7909 16 13Z" fill="#171A1F" />
                </svg>

              </div>
              <span className="document-name">Proof of Address (utility bill)</span>
              <button
                className="upload-icon-btn"
                onClick={() => handleDocumentUpload('proofOfAddress')}
                aria-label="Upload Proof of Address"
              >
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M17.4701 7.51C17.4701 7.28987 17.3826 7.07882 17.2269 6.92316C17.0907 6.78693 16.912 6.70288 16.722 6.68405L16.6401 6.68L14.1501 6.68C13.9039 6.68 13.6699 6.5709 13.5122 6.38171L11.686 4.19L8.31418 4.19L6.48801 6.38171C6.33032 6.5709 6.09641 6.68 5.85012 6.68L3.36012 6.68C3.13998 6.68 2.92894 6.76751 2.77328 6.92316C2.61762 7.07882 2.53012 7.28987 2.53012 7.51L2.53012 14.98C2.53012 15.2001 2.61762 15.4112 2.77328 15.5668C2.92894 15.7225 3.13998 15.81 3.36012 15.81L16.6401 15.81C16.8602 15.81 17.0713 15.7225 17.2269 15.5668C17.3826 15.4112 17.4701 15.2001 17.4701 14.98L17.4701 7.51ZM19.1301 14.98C19.1301 15.6404 18.8676 16.2736 18.4006 16.7405C17.9337 17.2075 17.3005 17.47 16.6401 17.47L3.36012 17.47C2.69973 17.47 2.06658 17.2075 1.59961 16.7405C1.13265 16.2736 0.870117 15.6403 0.870117 14.98L0.870117 7.51C0.870117 6.84961 1.13265 6.21646 1.59961 5.74949C2.06658 5.28253 2.69973 5.02 3.36012 5.02H5.46105L7.28722 2.82828L7.35044 2.76182C7.50416 2.61412 7.70959 2.53 7.92512 2.53L12.0751 2.53L12.1667 2.53486C12.3786 2.55837 12.575 2.66272 12.7131 2.82828L14.5392 5.02H16.6401L16.8865 5.03216C17.4564 5.08881 17.9921 5.34097 18.4006 5.74949C18.8676 6.21646 19.1301 6.84961 19.1301 7.51L19.1301 14.98Z" fill="#565E6D" />
                  <path d="M11.6602 10.83C11.6602 9.91319 10.917 9.17001 10.0002 9.17001C9.08336 9.17001 8.34018 9.91319 8.34018 10.83C8.34018 11.7468 9.08336 12.49 10.0002 12.49C10.917 12.49 11.6602 11.7468 11.6602 10.83ZM13.3202 10.83C13.3202 12.6636 11.8337 14.15 10.0002 14.15C8.16659 14.15 6.68018 12.6636 6.68018 10.83C6.68018 8.99646 8.16659 7.51001 10.0002 7.51001C11.8337 7.51001 13.3202 8.99646 13.3202 10.83Z" fill="#565E6D" />
                </svg>
              </button>
            </div>
            <div className="document-progress">
              <div 
                className="document-progress-fill" 
                style={{ width: documents.proofOfAddress ? '100%' : '0%' }}
              />
            </div>
            <div className="document-status">
              <span>{documents.proofOfAddress ? 'Uploaded' : 'Ready for upload'}</span>
              <span>{documents.proofOfAddress ? '100%' : '0%'} Uploaded</span>
            </div>
          </div>
        </div>

        <button
          className="register-continue-btn"
          onClick={handleSubmit}
          disabled={!allUploaded}
        >
          Submit for Verification
        </button>
      </div>
    </div>
  );
};

export default RegisterDocumentsScreen;
