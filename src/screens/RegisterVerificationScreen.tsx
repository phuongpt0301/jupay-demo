import React, { useEffect } from 'react';
import { useNavigate } from 'react-router-dom';
import { ScreenType } from '../types';
import { useAuth } from '../hooks/useAuth';
import './screens.css';

/**
 * RegisterVerificationScreen Component
 * Verification in Progress - Shows submission status
 */
const RegisterVerificationScreen: React.FC = () => {
  const navigate = useNavigate();
  const { login } = useAuth();

  useEffect(() => {
    // Auto-login after 3 seconds and navigate to dashboard
    const timer = setTimeout(async () => {
      await login({ username: 'demo', password: 'demo123' });
      navigate(`/${ScreenType.REGISTER_SECURITY}`);
    }, 5000);

    return () => clearTimeout(timer);
  }, [navigate, login]);

  const handleCheckStatus = () => {
    // For demo, just navigate to dashboard
    login({ username: 'demo', password: 'demo123' });
    navigate(`/${ScreenType.KYC_VERIFICATION_STEP1}`);
  };

  return (
    <div className="register-screen">
      <div className="register-container verification-container">
        <h1 className="verification-title">Verification in Progress</h1>
        <div className="border" />

        {/* Hourglass Icon */}
        <div className="verification-icon">
          <svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M44.3101 49C45.597 49 46.6401 50.0431 46.6401 51.33C46.6401 52.6169 45.597 53.66 44.3101 53.66L11.6901 53.66C10.4033 53.66 9.36011 52.6169 9.36011 51.33C9.36011 50.0431 10.4033 49 11.6901 49L44.3101 49Z" fill="#171A1F" />
            <path d="M44.3101 2.34C45.597 2.34 46.6401 3.38318 46.6401 4.67C46.6401 5.95681 45.597 7 44.3101 7L11.6901 7C10.4033 7 9.36011 5.95681 9.36011 4.67C9.36011 3.38318 10.4033 2.34 11.6901 2.34L44.3101 2.34Z" fill="#171A1F" />
            <path d="M37.32 51.32L37.32 41.5995C37.3198 41.0589 37.132 40.5375 36.792 40.1227L36.6373 39.9522L28 31.3149L19.3626 39.9522C18.9257 40.389 18.6802 40.9818 18.68 41.5995L18.68 51.32C18.68 52.6069 17.6368 53.65 16.35 53.65C15.0632 53.65 14.02 52.6069 14.02 51.32L14.02 41.5995C14.0204 39.746 14.7571 37.9679 16.0679 36.6573L26.3527 26.3727L26.53 26.2133C27.4452 25.467 28.7943 25.5197 29.6473 26.3727L39.9322 36.6573L40.3963 37.1694C41.4157 38.413 41.9798 39.9776 41.98 41.5995L41.98 51.32C41.98 52.6069 40.9369 53.65 39.65 53.65C38.3632 53.65 37.32 52.6069 37.32 51.32Z" fill="#171A1F" />
            <path d="M14.02 14.4005L14.02 4.67999C14.02 3.39318 15.0632 2.34999 16.35 2.34999C17.6368 2.34999 18.68 3.39318 18.68 4.67999L18.68 14.4005L18.6914 14.6303C18.7444 15.1637 18.9802 15.6655 19.3626 16.0479L28 24.6851L36.6373 16.0479L36.792 15.8772C37.0835 15.5218 37.2632 15.0876 37.3086 14.6303L37.32 14.4005V4.67999C37.32 3.39318 38.3632 2.34999 39.65 2.34999C40.9369 2.34999 41.98 3.39318 41.98 4.67999V14.4005L41.946 15.0922C41.8095 16.4636 41.2701 17.7647 40.3963 18.8306L39.9322 19.3426L29.6473 29.6273C29.2105 30.0644 28.6179 30.31 28 30.31C27.3821 30.31 26.7896 30.0644 26.3527 29.6273L16.0679 19.3426C14.921 18.1959 14.2133 16.692 14.0542 15.0922L14.02 14.4005Z" fill="#171A1F" />
          </svg>

        </div>

        {/* Status Message */}
        <div className="verification-message">
          <p className="verification-main-text">
            Your documents have been submitted to our admin panel for review.
          </p>
          <p className="verification-sub-text">
            Usually takes 1-2 business hours
          </p>
        </div>

        {/* Status List */}
        <div className="verification-status-list">
          <div className="status-item">
            <span className="status-label">Identity</span>
            <div className="status-value">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M15.8101 17.5C16.2685 17.5 16.6401 17.8716 16.6401 18.33C16.6401 18.7884 16.2685 19.16 15.8101 19.16L4.19011 19.16C3.73171 19.16 3.36011 18.7884 3.36011 18.33C3.36011 17.8716 3.73171 17.5 4.19011 17.5L15.8101 17.5Z" fill="#171A1F" />
                <path d="M15.8101 0.839996C16.2685 0.839996 16.6401 1.2116 16.6401 1.67C16.6401 2.12839 16.2685 2.5 15.8101 2.5L4.19011 2.5C3.73171 2.5 3.36011 2.12839 3.36011 1.67C3.36011 1.2116 3.73171 0.839996 4.19011 0.839996L15.8101 0.839996Z" fill="#171A1F" />
                <path d="M13.32 18.32V14.8573C13.3199 14.6648 13.253 14.479 13.1319 14.3313L13.0768 14.2705L10 11.1937L6.92318 14.2705C6.76753 14.4261 6.68009 14.6373 6.68002 14.8573V18.32C6.68002 18.7784 6.30841 19.15 5.85002 19.15C5.39163 19.15 5.02002 18.7784 5.02002 18.32L5.02002 14.8573C5.02016 14.1971 5.2826 13.5637 5.74951 13.0968L9.41321 9.43318L9.47637 9.37641C9.8024 9.11056 10.283 9.12932 10.5868 9.43318L14.2505 13.0968L14.4159 13.2792C14.779 13.7222 14.9799 14.2796 14.98 14.8573V18.32C14.98 18.7784 14.6084 19.15 14.15 19.15C13.6916 19.15 13.32 18.7784 13.32 18.32Z" fill="#171A1F" />
                <path d="M5.02002 5.14267L5.02002 1.68001C5.02002 1.22161 5.39163 0.850006 5.85002 0.850006C6.30841 0.850006 6.68002 1.22161 6.68002 1.68001L6.68002 5.14267L6.68407 5.22453C6.70296 5.41455 6.78696 5.59331 6.92318 5.7295L10 8.8063L13.0768 5.7295L13.1319 5.6687C13.2358 5.5421 13.2998 5.38745 13.316 5.22453L13.32 5.14267L13.32 1.68001C13.32 1.22161 13.6916 0.850006 14.15 0.850006C14.6084 0.850006 14.98 1.22161 14.98 1.68001L14.98 5.14267L14.9679 5.38907C14.9193 5.8776 14.7271 6.3411 14.4159 6.7208L14.2505 6.90317L10.5868 10.5668C10.4312 10.7225 10.2201 10.81 10 10.81C9.7799 10.81 9.56883 10.7225 9.41321 10.5668L5.74951 6.90317C5.34098 6.49469 5.08888 5.95895 5.03218 5.38907L5.02002 5.14267Z" fill="#171A1F" />
              </svg>

              <span>Pending</span>
            </div>
          </div>

          <div className="status-item">
            <span className="status-label">Address</span>
            <div className="status-value">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M15.8101 17.5C16.2685 17.5 16.6401 17.8716 16.6401 18.33C16.6401 18.7884 16.2685 19.16 15.8101 19.16L4.19011 19.16C3.73171 19.16 3.36011 18.7884 3.36011 18.33C3.36011 17.8716 3.73171 17.5 4.19011 17.5L15.8101 17.5Z" fill="#171A1F" />
                <path d="M15.8101 0.839996C16.2685 0.839996 16.6401 1.2116 16.6401 1.67C16.6401 2.12839 16.2685 2.5 15.8101 2.5L4.19011 2.5C3.73171 2.5 3.36011 2.12839 3.36011 1.67C3.36011 1.2116 3.73171 0.839996 4.19011 0.839996L15.8101 0.839996Z" fill="#171A1F" />
                <path d="M13.32 18.32V14.8573C13.3199 14.6648 13.253 14.479 13.1319 14.3313L13.0768 14.2705L10 11.1937L6.92318 14.2705C6.76753 14.4261 6.68009 14.6373 6.68002 14.8573V18.32C6.68002 18.7784 6.30841 19.15 5.85002 19.15C5.39163 19.15 5.02002 18.7784 5.02002 18.32L5.02002 14.8573C5.02016 14.1971 5.2826 13.5637 5.74951 13.0968L9.41321 9.43318L9.47637 9.37641C9.8024 9.11056 10.283 9.12932 10.5868 9.43318L14.2505 13.0968L14.4159 13.2792C14.779 13.7222 14.9799 14.2796 14.98 14.8573V18.32C14.98 18.7784 14.6084 19.15 14.15 19.15C13.6916 19.15 13.32 18.7784 13.32 18.32Z" fill="#171A1F" />
                <path d="M5.02002 5.14267L5.02002 1.68001C5.02002 1.22161 5.39163 0.850006 5.85002 0.850006C6.30841 0.850006 6.68002 1.22161 6.68002 1.68001L6.68002 5.14267L6.68407 5.22453C6.70296 5.41455 6.78696 5.59331 6.92318 5.7295L10 8.8063L13.0768 5.7295L13.1319 5.6687C13.2358 5.5421 13.2998 5.38745 13.316 5.22453L13.32 5.14267L13.32 1.68001C13.32 1.22161 13.6916 0.850006 14.15 0.850006C14.6084 0.850006 14.98 1.22161 14.98 1.68001L14.98 5.14267L14.9679 5.38907C14.9193 5.8776 14.7271 6.3411 14.4159 6.7208L14.2505 6.90317L10.5868 10.5668C10.4312 10.7225 10.2201 10.81 10 10.81C9.7799 10.81 9.56883 10.7225 9.41321 10.5668L5.74951 6.90317C5.34098 6.49469 5.08888 5.95895 5.03218 5.38907L5.02002 5.14267Z" fill="#171A1F" />
              </svg>

              <span>Pending</span>
            </div>
          </div>

          <div className="status-item">
            <span className="status-label">Documents</span>
            <div className="status-value">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_0_1354)">
                  <path d="M8.58111 0.978204C10.5153 0.673499 12.4924 0.999435 14.2225 1.90142L14.5646 2.08947L14.636 2.13486C14.9774 2.38069 15.084 2.85029 14.8694 3.22262C14.6546 3.5949 14.1946 3.73795 13.8108 3.56547L13.7354 3.52657L13.455 3.37338C12.0396 2.63549 10.4221 2.36871 8.83974 2.61794C7.15194 2.88385 5.60604 3.72047 4.46032 4.98798C3.31462 6.25555 2.63793 7.87779 2.54338 9.58374C2.44886 11.2898 2.94208 12.9772 3.94076 14.3635C4.93943 15.7499 6.38354 16.7522 8.03159 17.2029C9.67962 17.6536 11.4327 17.5258 12.9978 16.8406C14.5631 16.1554 15.8463 14.9538 16.6331 13.4371C17.3707 12.0152 17.6304 10.3965 17.3788 8.82023L17.3213 8.50574L17.3091 8.42149C17.2673 8.00304 17.548 7.61252 17.9689 7.52661C18.3901 7.44079 18.8019 7.69056 18.927 8.09237L18.9481 8.17425L19.0178 8.55844C19.3252 10.4852 19.0076 12.4635 18.1059 14.2014C17.1441 16.0552 15.5764 17.5238 13.6633 18.3612C11.7504 19.1985 9.60815 19.3545 7.59389 18.8037C5.57956 18.2528 3.81423 17.0283 2.59363 15.3338C1.37305 13.6393 0.770309 11.5773 0.885809 9.49219C1.00134 7.40703 1.82877 5.42439 3.22911 3.8751C4.62942 2.32591 6.51831 1.30321 8.58111 0.978204Z" fill="#171A1F" />
                  <path d="M17.7915 2.7064C18.1175 2.44051 18.5981 2.45926 18.9019 2.76314C19.2059 3.06702 19.2246 3.54759 18.9587 3.87359L18.9019 3.93681L10.6019 12.2368C10.2981 12.5407 9.81749 12.5594 9.49155 12.2936L9.4283 12.2368L6.93828 9.74679L6.88154 9.68363C6.61565 9.3576 6.6344 8.87703 6.93828 8.57317C7.24215 8.26926 7.72273 8.25051 8.04873 8.5164L8.11195 8.57317L10.0151 10.4763L17.7283 2.76314L17.7915 2.7064Z" fill="#171A1F" />
                </g>
                <defs>
                  <clipPath id="clip0_0_1354">
                    <rect width="20" height="20" fill="white" />
                  </clipPath>
                </defs>
              </svg>

              <span className="submitted">Submitted</span>
            </div>
          </div>
        </div>

        <button className="check-status-btn" onClick={handleCheckStatus}>
          Check Status
        </button>

        <p className="verification-footer">
          You can still explore the app with limited features
        </p>
      </div>
    </div>
  );
};

export default RegisterVerificationScreen;
