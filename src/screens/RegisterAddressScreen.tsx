import React, { useState } from 'react';
import { useNavigate } from 'react-router-dom';
import { ScreenType } from '../types';
import './screens.css';

/**
 * RegisterAddressScreen Component
 * Step 2 of 4 - Verify Your Address
 */
const RegisterAddressScreen: React.FC = () => {
  const navigate = useNavigate();
  const [selectedMethod, setSelectedMethod] = useState<'singpass' | 'manual' | null>(null);

  const handleContinue = () => {
    if (selectedMethod === 'singpass') {
      navigate(`/${ScreenType.REGISTER_SECURITY}`);
    } else {
      navigate(`/${ScreenType.REGISTER_DOCUMENTS}`);
    }
  };

  const handleBack = () => {
    navigate(`/${ScreenType.REGISTER_PERSONAL}`);
  };

  return (
    <div className="register-screen">
      <div className="register-container">
        {/* Header */}
        <div className="register-header">
          <button className="back-btn" onClick={handleBack} aria-label="Go back">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M11.369 4.22462C11.7618 3.90427 12.3408 3.92686 12.7069 4.29298C13.073 4.65909 13.0956 5.2381 12.7753 5.63087L12.7069 5.70704L6.41399 12L12.7069 18.293L12.7753 18.3692C13.0956 18.7619 13.073 19.3409 12.7069 19.707C12.3408 20.0732 11.7618 20.0958 11.369 19.7754L11.2929 19.707L4.29289 12.707C3.90237 12.3165 3.90237 11.6835 4.29289 11.293L11.2929 4.29298L11.369 4.22462Z" fill="#565E6D" />
              <path d="M19 11C19.5523 11 20 11.4477 20 12C20 12.5523 19.5523 13 19 13L5 13C4.44772 13 4 12.5523 4 12C4 11.4477 4.44772 11 5 11L19 11Z" fill="#565E6D" />
            </svg>
          </button>
          <div className="register-header-text">
            <h1 className="register-title">Verify Your Address</h1>
            <p className="register-step">Step 2 of 4</p>
          </div>
        </div>

        <div className="border" />

        {/* Address Options */}
        <div className="address-options">
          <button
            className={`address-option ${selectedMethod === 'singpass' ? 'selected' : ''}`}
            onClick={() => setSelectedMethod('singpass')}
          >
            <div className="option-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M2 7L2 5C2 4.20435 2.3163 3.44152 2.87891 2.87891C3.44152 2.3163 4.20435 2 5 2L7 2C7.55228 2 8 2.44772 8 3C8 3.55228 7.55228 4 7 4L5 4C4.73478 4 4.48051 4.10543 4.29297 4.29297C4.10543 4.48051 4 4.73478 4 5L4 7C4 7.55228 3.55228 8 3 8C2.44772 8 2 7.55228 2 7Z" fill="#171A1F" />
                <path d="M20 7V5C20 4.73478 19.8946 4.48051 19.707 4.29297C19.5429 4.12883 19.3276 4.02757 19.0986 4.00488L19 4L17 4C16.4477 4 16 3.55228 16 3C16 2.44772 16.4477 2 17 2L19 2L19.2969 2.01465C19.9835 2.08291 20.6289 2.38671 21.1211 2.87891C21.6837 3.44152 22 4.20435 22 5V7C22 7.55228 21.5523 8 21 8C20.4477 8 20 7.55228 20 7Z" fill="#171A1F" />
                <path d="M20 19V17C20 16.4477 20.4477 16 21 16C21.5523 16 22 16.4477 22 17V19C22 19.7957 21.6837 20.5585 21.1211 21.1211C20.5585 21.6837 19.7957 22 19 22H17C16.4477 22 16 21.5523 16 21C16 20.4477 16.4477 20 17 20H19C19.2652 20 19.5195 19.8946 19.707 19.707C19.8946 19.5195 20 19.2652 20 19Z" fill="#171A1F" />
                <path d="M2 19L2 17C2 16.4477 2.44772 16 3 16C3.55228 16 4 16.4477 4 17L4 19L4.00488 19.0986C4.02757 19.3276 4.12883 19.5429 4.29297 19.707C4.48051 19.8946 4.73478 20 5 20H7C7.55228 20 8 20.4477 8 21C8 21.5523 7.55228 22 7 22H5C4.20435 22 3.44152 21.6837 2.87891 21.1211C2.38671 20.6289 2.08291 19.9835 2.01465 19.2969L2 19Z" fill="#171A1F" />
                <path d="M10 12C10 10.8954 10.8954 10 12 10C13.1046 10 14 10.8954 14 12C14 13.1046 13.1046 14 12 14C10.8954 14 10 13.1046 10 12Z" fill="#171A1F" />
                <path d="M12.3164 6.00977C13.8942 6.06852 15.4272 6.56627 16.7412 7.44922C18.0551 8.33224 19.0946 9.56327 19.7451 11.002L19.8701 11.292L19.8877 11.3398L19.9375 11.502C20.0214 11.8286 20.0214 12.1714 19.9375 12.498L19.8877 12.6602L19.8701 12.708C19.232 14.2715 18.1428 15.6099 16.7412 16.5518C15.4272 17.4347 13.8942 17.9315 12.3164 17.9902L12 17.9961C10.3113 17.9961 8.66041 17.4936 7.25877 16.5518C5.94466 15.6687 4.90541 14.4369 4.25486 12.998L4.12986 12.708L4.11228 12.6602C3.9629 12.2328 3.9629 11.7672 4.11228 11.3398L4.12986 11.292C4.76787 9.72869 5.85738 8.39105 7.25877 7.44922C8.66041 6.50736 10.3113 6.00391 12 6.00391L12.3164 6.00977ZM11.7578 8.00879C10.5515 8.05376 9.37962 8.43342 8.37498 9.1084C7.31749 9.81899 6.49244 10.825 6.00193 12C6.49244 13.175 7.31748 14.181 8.37498 14.8916C9.44675 15.6117 10.7088 15.9961 12 15.9961L12.2422 15.9912C13.4485 15.9462 14.6203 15.5666 15.625 14.8916C16.6824 14.1811 17.5065 13.1749 17.997 12C17.5065 10.8251 16.6824 9.81892 15.625 9.1084C14.5532 8.38833 13.2912 8.00391 12 8.00391L11.7578 8.00879Z" fill="#171A1F" />
              </svg>

            </div>
            <div className="option-content">
              <h3>Use Singpass Address</h3>
              <p>Auto-fill your residential address securely from Singpass.</p>
            </div>
          </button>

          <button
            className={`address-option ${selectedMethod === 'manual' ? 'selected' : ''}`}
            onClick={() => setSelectedMethod('manual')}
          >
            <div className="option-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M21.0001 4.81896C21.0001 4.33658 20.8079 3.87398 20.4669 3.53283C20.1259 3.19184 19.6639 2.99982 19.1817 2.99963C18.6995 2.99957 18.2357 3.1901 17.8946 3.53088L17.8956 3.53186L4.54786 16.8824C4.43188 16.9981 4.34589 17.1408 4.29786 17.2975L3.24903 20.7486L6.70606 19.7008L6.82032 19.6588C6.932 19.6093 7.0341 19.5395 7.1211 19.4527L20.4669 6.1051L20.5879 5.97131C20.8531 5.64777 21 5.24092 21.0001 4.81896ZM23.0001 4.81896C22.9999 5.76857 22.6463 6.68196 22.0118 7.38244L21.8809 7.51916L8.53321 20.8688C8.1855 21.2154 7.75781 21.472 7.2881 21.6149L2.93458 22.9352L2.93165 22.9361C2.67254 23.014 2.39716 23.0196 2.13478 22.9537C1.87233 22.8877 1.63201 22.7523 1.44044 22.5611C1.24881 22.3698 1.11235 22.1293 1.04591 21.8668C0.979599 21.6045 0.985109 21.3292 1.06251 21.0699L1.06446 21.066L2.38478 16.7135L2.38575 16.7106L2.44532 16.5367C2.57442 16.1925 2.76589 15.8752 3.00978 15.6002L3.13575 15.4654L16.4805 2.11779L16.6182 1.98693C17.3188 1.3528 18.2322 0.999514 19.1817 0.999634C20.1944 0.999821 21.1659 1.40255 21.8819 2.11877C22.5978 2.83501 23.0002 3.80626 23.0001 4.81896Z" fill="#171A1F" />
                <path d="M14.293 4.29298C14.6591 3.92687 15.2381 3.90427 15.6309 4.22462L15.707 4.29298L19.707 8.29298L19.7754 8.36915C20.0957 8.76193 20.0731 9.34093 19.707 9.70705C19.3409 10.0731 18.7619 10.0957 18.3691 9.7754L18.293 9.70705L14.293 5.70705L14.2246 5.63087C13.9043 5.2381 13.9268 4.6591 14.293 4.29298Z" fill="#171A1F" />
              </svg>

            </div>
            <div className="option-content">
              <h3>Enter Manually</h3>
              <p>Manually type in your address details field by field.</p>
            </div>
          </button>
        </div>

        <button
          className="register-continue-btn"
          onClick={handleContinue}
          disabled={!selectedMethod}
        >
          Continue
        </button>
      </div>
    </div>
  );
};

export default RegisterAddressScreen;
