import React, { useState } from 'react';
import { useNavigate } from 'react-router-dom';
import './screens.css';

interface Bill {
  id: string;
  name: string;
  dueDate: string;
  amount: number;
  status: 'pending' | 'paid';
}

/**
 * PayBillsScreen Component
 * Pay utility bills, credit cards, insurance, and government bills
 */
const PayBillsScreen: React.FC = () => {
  const navigate = useNavigate();
  const [bills] = useState<Bill[]>([
    { id: '1', name: 'SP Services', dueDate: '25 Oct', amount: 125.50, status: 'pending' },
    { id: '2', name: 'DBS Bank', dueDate: '28 Oct', amount: 890.00, status: 'pending' },
    { id: '3', name: 'AIA Singapore', dueDate: '30 Oct', amount: 210.00, status: 'pending' }
  ]);

  const totalDue = bills.reduce((sum, bill) => sum + bill.amount, 0);

  const handleBack = () => {
    navigate(-1);
  };

  const handleManageBillers = () => {
    alert('Manage Billers functionality');
  };

  const handleCategoryClick = (category: string) => {
    alert(`${category} category selected`);
  };

  const handleBillClick = (bill: Bill) => {
    alert(`Pay ${bill.name} - SGD ${bill.amount}`);
  };

  const handleAddBill = () => {
    alert('Add new bill functionality');
  };

  return (
    <div className="pay-bills-screen">
      <div className="pay-bills-container">
        {/* Header */}
        <div className="pay-bills-header">
          <button className="back-btn" onClick={handleBack}>
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M11.369 4.22462C11.7618 3.90427 12.3408 3.92686 12.7069 4.29298C13.073 4.65909 13.0956 5.2381 12.7753 5.63087L12.7069 5.70704L6.41399 12L12.7069 18.293L12.7753 18.3692C13.0956 18.7619 13.073 19.3409 12.7069 19.707C12.3408 20.0732 11.7618 20.0958 11.369 19.7754L11.2929 19.707L4.29289 12.707C3.90237 12.3165 3.90237 11.6835 4.29289 11.293L11.2929 4.29298L11.369 4.22462Z" fill="#565E6D" />
              <path d="M19 11C19.5523 11 20 11.4477 20 12C20 12.5523 19.5523 13 19 13L5 13C4.44772 13 4 12.5523 4 12C4 11.4477 4.44772 11 5 11L19 11Z" fill="#565E6D" />
            </svg>
          </button>
          <h1 className="pay-bills-title">Pay Bills</h1>
          <div style={{ width: '40px' }}></div>
        </div>

        <div className="pay-bills-content">

          {/* Manage Billers Button */}
          <button className="manage-billers-btn" onClick={handleManageBillers}>
            Manage Billers
          </button>

          {/* Bill Categories */}
          <div className="bill-categories">
            <button className="bill-category-card" onClick={() => handleCategoryClick('Utilities')}>
              <div className="category-icon">
                <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M17.7969 1.37577C18.1326 1.34275 18.4716 1.39559 18.7814 1.52903L18.9334 1.60307L19.0789 1.68879C19.3617 1.87249 19.5928 2.12512 19.7516 2.42263L19.8257 2.57459L19.8854 2.73305C19.9915 3.0527 20.0156 3.39418 19.9543 3.72535L19.9153 3.8903C19.9105 3.90751 19.9064 3.92525 19.901 3.94226L17.3475 11.9482L17.3254 12.0106L26.6393 12.0106C27.1414 12.0096 27.6337 12.1502 28.0589 12.4171C28.4852 12.6847 28.8262 13.0684 29.0435 13.5225C29.2607 13.9764 29.3454 14.4824 29.2864 14.9823C29.2346 15.4196 29.0753 15.8363 28.8239 16.1954L28.7097 16.346L28.6318 16.4344L15.4642 30.0006L15.4629 29.9993C15.172 30.3104 14.7907 30.523 14.3706 30.6007C13.9257 30.683 13.4656 30.6115 13.0666 30.398C12.6676 30.1847 12.3528 29.841 12.1743 29.4253C11.9959 29.0096 11.9647 28.5457 12.0847 28.1095L12.0989 28.0576L14.6524 20.0517L14.6745 19.9906L5.35933 19.9906C4.85776 19.9913 4.36589 19.8494 3.941 19.5827C3.51499 19.3153 3.17373 18.9325 2.9565 18.4787C2.73922 18.0246 2.65455 17.5175 2.71361 17.0176C2.77275 16.5179 2.97326 16.0445 3.2903 15.6538L3.36823 15.5655L16.5358 2.00051C16.8267 1.68923 17.2092 1.4782 17.6293 1.40044L17.7969 1.37577ZM5.36323 17.3306L14.6693 17.3306C15.0983 17.3298 15.5213 17.4326 15.9019 17.6306C16.2835 17.8291 16.612 18.1167 16.8578 18.4697C17.1037 18.8228 17.26 19.2312 17.3137 19.6581C17.3647 20.0633 17.3172 20.4729 17.1839 20.8582L17.1878 20.8595L15.5032 26.1406L26.6368 14.6706L17.3293 14.6706C16.9009 14.6712 16.4782 14.5682 16.0981 14.3706C15.7164 14.172 15.388 13.8833 15.1421 13.5302C14.8964 13.1773 14.74 12.7697 14.6862 12.3431C14.6351 11.9374 14.6811 11.5262 14.8148 11.1404H14.8123L16.4955 5.85803L5.36323 17.3306Z" fill="#171A1F" />
                </svg>

              </div>
              <span className="category-name">Utilities</span>
            </button>

            <button className="bill-category-card" onClick={() => handleCategoryClick('Credit Cards')}>
              <div className="category-icon"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M27.9701 9.34986C27.9701 8.61533 27.3747 8.01986 26.6401 8.01986L5.36012 8.01986C4.62558 8.01986 4.03012 8.61533 4.03012 9.34986L4.03012 22.6499C4.03012 23.3844 4.62558 23.9799 5.36012 23.9799L26.6401 23.9799C27.3747 23.9799 27.9701 23.3844 27.9701 22.6499L27.9701 9.34986ZM30.6301 22.6499C30.6301 24.8535 28.8438 26.6399 26.6401 26.6399L5.36012 26.6399C3.15651 26.6399 1.37012 24.8535 1.37012 22.6499L1.37012 9.34986C1.37012 7.14625 3.15651 5.35986 5.36012 5.35986L26.6401 5.35986C28.8438 5.35986 30.6301 7.14625 30.6301 9.34986L30.6301 22.6499Z" fill="#171A1F" />
                <path d="M29.3001 12C30.0347 12 30.6301 12.5955 30.6301 13.33C30.6301 14.0646 30.0347 14.66 29.3001 14.66L2.70012 14.66C1.96558 14.66 1.37012 14.0646 1.37012 13.33C1.37012 12.5955 1.96558 12 2.70012 12L29.3001 12Z" fill="#171A1F" />
              </svg>
              </div>
              <span className="category-name">Credit Cards</span>
            </button>

            <button className="bill-category-card" onClick={() => handleCategoryClick('Insurance')}>
              <div className="category-icon"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M25.3098 8.01963C22.2249 8.01963 18.6207 6.24196 16.1466 4.08288C16.1057 4.0479 16.0537 4.02962 15.9998 4.02962C15.9459 4.02962 15.8939 4.0492 15.853 4.08418L15.8518 4.08288C13.4689 6.16031 10.0006 7.90725 6.98072 8.01444L6.68979 8.01963L6.68979 17.3297L6.70148 17.8778C6.81989 20.5715 7.81563 22.5684 9.3316 24.1212C10.7783 25.6028 12.7453 26.7255 15.0075 27.6021L15.9946 27.9631L16.0245 27.9722C18.6912 27.0416 21.0176 25.8171 22.668 24.1238C24.2844 22.4655 25.3098 20.3033 25.3098 17.3297L25.3098 8.01963ZM27.9698 17.3297C27.9698 21.0059 26.6677 23.8324 24.5734 25.9812C22.5152 28.0927 19.7509 29.492 16.8894 30.4894L16.879 30.4932C16.3097 30.6862 15.6923 30.6793 15.127 30.4763C15.1192 30.4737 15.1115 30.4713 15.1036 30.4686C15.1015 30.4678 15.0991 30.4681 15.0971 30.4673V30.4659C12.2386 29.4758 9.4822 28.0828 7.42881 25.9799C5.46329 23.9668 4.19626 21.3573 4.04537 18.0102L4.02979 17.3297L4.02979 8.01963C4.02994 7.31437 4.31038 6.63764 4.80909 6.13893C5.3079 5.64027 5.98445 5.35962 6.68979 5.35962L7.1171 5.34404C9.29455 5.18375 12.081 3.84686 14.1138 2.071L14.1256 2.0619L14.3269 1.90345C14.8137 1.55722 15.3982 1.36963 15.9998 1.36963C16.6013 1.36963 17.1859 1.55722 17.6727 1.90345L17.874 2.0619L17.8857 2.071L18.3039 2.42297C20.4397 4.14568 23.2186 5.35962 25.3098 5.35962C26.0151 5.35962 26.6917 5.64027 27.1905 6.13893C27.6892 6.63764 27.9697 7.31437 27.9698 8.01963L27.9698 17.3297Z" fill="#171A1F" />
                <path d="M19.1509 12.3092C19.6732 11.8831 20.4432 11.9131 20.9302 12.4001C21.4172 12.887 21.4473 13.6571 21.0211 14.1795L20.9302 14.2807L15.6102 19.6007C15.1232 20.0878 14.3532 20.1178 13.8309 19.6917L13.7295 19.6007L11.0695 16.9407L10.9786 16.8395C10.5525 16.3171 10.5826 15.547 11.0695 15.0601C11.5564 14.5732 12.3265 14.5431 12.8489 14.9691L12.9502 15.0601L14.6699 16.7797L19.0495 12.4001L19.1509 12.3092Z" fill="#171A1F" />
              </svg>
              </div>
              <span className="category-name">Insurance</span>
            </button>

            <button className="bill-category-card" onClick={() => handleCategoryClick('Government')}>
              <div className="category-icon">
                <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M22.6499 5.36012C22.6499 5.00737 22.5098 4.6692 22.2603 4.41977C22.0109 4.17034 21.6727 4.03012 21.3199 4.03012L10.6799 4.03012C10.3272 4.03012 9.98902 4.17034 9.73959 4.41977C9.49016 4.6692 9.34994 5.00737 9.34994 5.36012L9.34994 27.9701L22.6499 27.9701L22.6499 5.36012ZM25.3099 29.3001C25.3099 30.0347 24.7145 30.6301 23.9799 30.6301L8.01994 30.6301C7.28541 30.6301 6.68994 30.0347 6.68994 29.3001L6.68994 5.36012C6.68994 4.3019 7.11062 3.28734 7.85889 2.53907C8.60716 1.7908 9.62173 1.37012 10.6799 1.37012L21.3199 1.37012C22.3781 1.37012 23.3927 1.7908 24.141 2.53907C24.8893 3.28734 25.3099 4.3019 25.3099 5.36012L25.3099 29.3001Z" fill="#171A1F" />
                  <path d="M1.33984 26.6599L1.33984 18.6799C1.33984 17.6218 1.76052 16.6071 2.50879 15.8589C3.25707 15.1106 4.27163 14.6899 5.32984 14.6899H7.98984C8.72438 14.6899 9.31984 15.2854 9.31984 16.0199C9.31984 16.7545 8.72438 17.3499 7.98984 17.3499H5.32984C4.9771 17.3499 4.63892 17.4901 4.38949 17.7396C4.14007 17.989 3.99984 18.3272 3.99984 18.6799L3.99984 26.6599L4.00633 26.7911C4.03651 27.0957 4.17119 27.382 4.38949 27.6003C4.63892 27.8498 4.9771 27.9899 5.32984 27.9899H7.98984C8.72438 27.9899 9.31984 28.5854 9.31984 29.3199C9.31984 30.0545 8.72438 30.6499 7.98984 30.6499H5.32984C4.27163 30.6499 3.25707 30.2293 2.50879 29.481C1.76052 28.7327 1.33984 27.7181 1.33984 26.6599Z" fill="#171A1F" />
                  <path d="M27.9997 26.6553L27.9997 14.6853C27.9997 14.3326 27.8595 13.9944 27.61 13.745C27.3606 13.4955 27.0224 13.3553 26.6697 13.3553H24.0097C23.2751 13.3553 22.6797 12.7598 22.6797 12.0253C22.6797 11.2908 23.2751 10.6953 24.0097 10.6953L26.6697 10.6953C27.728 10.6953 28.7425 11.116 29.4907 11.8643C30.239 12.6125 30.6597 13.627 30.6597 14.6853L30.6597 26.6553C30.6597 27.7136 30.239 28.7281 29.4907 29.4764C28.7425 30.2246 27.728 30.6453 26.6697 30.6453H24.0097C23.2751 30.6453 22.6797 30.0499 22.6797 29.3153C22.6797 28.5808 23.2751 27.9853 24.0097 27.9853H26.6697C27.0224 27.9853 27.3606 27.8451 27.61 27.5956C27.8595 27.3462 27.9997 27.008 27.9997 26.6553Z" fill="#171A1F" />
                  <path d="M18.6598 6.66992C19.3943 6.66992 19.9898 7.26539 19.9898 7.99992C19.9898 8.73445 19.3943 9.32992 18.6598 9.32992L13.3398 9.32992C12.6052 9.32992 12.0098 8.73445 12.0098 7.99992C12.0098 7.26539 12.6052 6.66992 13.3398 6.66992L18.6598 6.66992Z" fill="#171A1F" />
                  <path d="M18.6598 12C19.3943 12 19.9898 12.5955 19.9898 13.33C19.9898 14.0646 19.3943 14.66 18.6598 14.66L13.3398 14.66C12.6052 14.66 12.0098 14.0646 12.0098 13.33C12.0098 12.5955 12.6052 12 13.3398 12L18.6598 12Z" fill="#171A1F" />
                  <path d="M18.6598 17.3403C19.3943 17.3403 19.9898 17.9358 19.9898 18.6703C19.9898 19.4049 19.3943 20.0003 18.6598 20.0003H13.3398C12.6052 20.0003 12.0098 19.4049 12.0098 18.6703C12.0098 17.9358 12.6052 17.3403 13.3398 17.3403H18.6598Z" fill="#171A1F" />
                  <path d="M18.6598 22.6699C19.3943 22.6699 19.9898 23.2654 19.9898 23.9999C19.9898 24.7345 19.3943 25.3299 18.6598 25.3299H13.3398C12.6052 25.3299 12.0098 24.7345 12.0098 23.9999C12.0098 23.2654 12.6052 22.6699 13.3398 22.6699H18.6598Z" fill="#171A1F" />
                </svg>
              </div>
              <span className="category-name">Government</span>
            </button>
          </div>

          {/* Bills Summary */}
          <div className="bills-summary">
            <div className="summary-header">
              <div>
                <h3 className="summary-title">3 bills due this month</h3>
                <p className="summary-amount">SGD {totalDue.toFixed(2)}</p>
              </div>
              <div>
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M5.60658 13.0767C5.28247 13.4009 4.75708 13.4009 4.43296 13.0767C4.10876 12.7526 4.10876 12.2272 4.43296 11.903L9.41296 6.92303C9.73708 6.59892 10.2625 6.59892 10.5866 6.92303L15.5666 11.903L15.6233 11.9663C15.8892 12.2923 15.8705 12.7728 15.5666 13.0767C15.2627 13.3806 14.7822 13.3993 14.4562 13.1335L14.3929 13.0767L9.99977 8.68355L5.60658 13.0767Z" fill="#171A1F"/>
                </svg>
              </div>
              <div>
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M5.60658 13.0767C5.28247 13.4009 4.75708 13.4009 4.43296 13.0767C4.10876 12.7526 4.10876 12.2272 4.43296 11.903L9.41296 6.92303C9.73708 6.59892 10.2625 6.59892 10.5866 6.92303L15.5666 11.903L15.6233 11.9663C15.8892 12.2923 15.8705 12.7728 15.5666 13.0767C15.2627 13.3806 14.7822 13.3993 14.4562 13.1335L14.3929 13.0767L9.99977 8.68355L5.60658 13.0767Z" fill="#171A1F"/>
                </svg>
              </div>
            </div>

            {/* Bills List */}
            <div className="bills-list">
              {bills.map(bill => (
                <button key={bill.id} className="bill-item" onClick={() => handleBillClick(bill)}>
                  <div className="bill-info">
                    <span className="bill-name">{bill.name}</span>
                    <span className="bill-due">Due: {bill.dueDate}</span>
                  </div>
                  <div className="bill-payment">
                    <span className="bill-amount">SGD {bill.amount.toFixed(2)}</span>
                    <span className="bill-status">{bill.status === 'pending' ? 'Pending' : 'Paid'}</span>
                  </div>
                </button>
              ))}
            </div>
          </div>
        </div>

        {/* Add Bill Button */}
        <button className="floating-add-btn" onClick={handleAddBill}>+</button>
      </div>
    </div>
  );
};

export default PayBillsScreen;
