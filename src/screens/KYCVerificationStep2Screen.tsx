import React, { useState } from 'react';
import { useNavigate } from 'react-router-dom';
import { ScreenType } from '../types';
import './screens.css';

/**
 * KYCVerificationStep2Screen Component
 * Step 2-5: Document upload (front, back, selfie)
 */
const KYCVerificationStep2Screen: React.FC = () => {
  const navigate = useNavigate();
  const [documentType, setDocumentType] = useState('');
  const [frontUploaded, setFrontUploaded] = useState(false);
  const [backUploaded, setBackUploaded] = useState(false);
  const [selfieUploaded, setSelfieUploaded] = useState(false);

  const handleBack = () => {
    navigate(-1);
  };

  const handleUploadFront = () => {
    setFrontUploaded(true);
    alert('Front of document uploaded');
  };

  const handleUploadBack = () => {
    setBackUploaded(true);
    alert('Back of document uploaded');
  };

  const handleUploadSelfie = () => {
    setSelfieUploaded(true);
    alert('Selfie uploaded');
  };

  const handleContinue = () => {
    if (documentType && frontUploaded && backUploaded && selfieUploaded) {
      navigate(`/${ScreenType.KYC_VERIFICATION_STEP3}`);
    } else {
      alert('Please select document type and upload all required documents');
    }
  };

  return (
    <div className="kyc-verification-screen">
      <div className="kyc-verification-container">
        {/* Header */}
        <div className="kyc-header-simple">
          <button className="back-btn" onClick={handleBack}>
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M11.369 4.22462C11.7618 3.90427 12.3408 3.92686 12.7069 4.29298C13.073 4.65909 13.0956 5.2381 12.7753 5.63087L12.7069 5.70704L6.41399 12L12.7069 18.293L12.7753 18.3692C13.0956 18.7619 13.073 19.3409 12.7069 19.707C12.3408 20.0732 11.7618 20.0958 11.369 19.7754L11.2929 19.707L4.29289 12.707C3.90237 12.3165 3.90237 11.6835 4.29289 11.293L11.2929 4.29298L11.369 4.22462Z" fill="#565E6D" />
              <path d="M19 11C19.5523 11 20 11.4477 20 12C20 12.5523 19.5523 13 19 13L5 13C4.44772 13 4 12.5523 4 12C4 11.4477 4.44772 11 5 11L19 11Z" fill="#565E6D" />
            </svg>
          </button>
          <h1 className="kyc-title-center">Step 2-5</h1>
          <div style={{ width: '56px' }}></div>
        </div>

        <div className="border"></div>

        {/* Form */}
        <div className="kyc-form">
          {/* Document Type */}
          <div className="form-group select-wrapper">
            <label className="form-label">Document Type</label>
            <select
              className="form-select"
              value={documentType}
              onChange={(e) => setDocumentType(e.target.value)}
            >
              <option value="">Select Document Type</option>
              <option value="passport">Passport</option>
              <option value="national_id">National ID</option>
              <option value="drivers_license">Driver's License</option>
            </select>
          </div>

          {/* Front of Document */}
          <button
            className={`upload-box ${frontUploaded ? 'uploaded' : ''}`}
            onClick={handleUploadFront}
          >
            <div className="upload-icon">
              <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M14.6699 27.99L14.6699 17.35C14.6699 16.6155 15.2654 16.02 15.9999 16.02C16.7345 16.02 17.3299 16.6155 17.3299 17.35L17.3299 27.99C17.3299 28.7246 16.7345 29.32 15.9999 29.32C15.2654 29.32 14.6699 28.7246 14.6699 27.99Z" fill="#171A1F" />
                <path d="M11.1716 2.73277C12.7811 2.60513 14.3992 2.84542 15.902 3.43543C17.4046 4.02548 18.7539 4.94988 19.8465 6.1383C20.711 7.07868 21.3938 8.16628 21.8714 9.3451H23.3144L23.608 9.35161C25.0738 9.41023 26.4913 9.90765 27.6733 10.7842C28.9337 11.7189 29.8594 13.0349 30.315 14.5365C30.7707 16.0385 30.7309 17.6475 30.2021 19.1253C29.6732 20.6029 28.6835 21.872 27.3784 22.7438L27.2615 22.8127C26.666 23.1286 25.9166 22.9488 25.5341 22.3762C25.126 21.7655 25.2908 20.94 25.9017 20.5319L26.2029 20.3111C26.8844 19.7722 27.4035 19.0517 27.698 18.2291C28.0345 17.2888 28.0605 16.265 27.7706 15.3093C27.4808 14.3535 26.8909 13.5158 26.0887 12.9208C25.3868 12.4003 24.5544 12.0903 23.6884 12.0207L23.3144 12.0051H20.9336C20.3459 12.0049 19.8277 11.6189 19.6595 11.0557C19.3131 9.89563 18.7072 8.82974 17.8879 7.93848C17.0684 7.04708 16.0562 6.35352 14.9292 5.911C13.8021 5.46861 12.589 5.28796 11.3821 5.38368C10.1751 5.47946 9.00543 5.84841 7.96224 6.46301C6.91897 7.07765 6.02946 7.92266 5.36069 8.93209C4.6921 9.94137 4.26133 11.0894 4.10213 12.2896C3.94291 13.49 4.05991 14.7112 4.44242 15.86C4.82493 17.0087 5.46324 18.0561 6.31013 18.9214C6.82373 19.4464 6.8155 20.2884 6.29064 20.802C5.76579 21.3158 4.92376 21.306 4.40994 20.7813L3.99952 20.3371C3.07296 19.2761 2.36375 18.0407 1.9175 16.7003C1.40749 15.1685 1.25325 13.5406 1.4655 11.9402C1.67776 10.3398 2.25202 8.80894 3.14358 7.46311C4.03528 6.11719 5.22174 4.9914 6.61276 4.17188C8.00359 3.35251 9.56247 2.86048 11.1716 2.73277Z" fill="#171A1F" />
                <path d="M15.1609 16.3087C15.6833 15.8827 16.4534 15.9128 16.9403 16.3997L22.2603 21.7197L22.3513 21.8211C22.7773 22.3433 22.7472 23.1134 22.2603 23.6003C21.7734 24.0874 21.0033 24.1174 20.4809 23.6913L20.3797 23.6003L16 19.2208L11.6204 23.6003C11.1009 24.1198 10.259 24.1198 9.73964 23.6003C9.22025 23.081 9.22025 22.2391 9.73964 21.7197L15.0597 16.3997L15.1609 16.3087Z" fill="#171A1F" />
              </svg>
            </div>
            <span className="upload-text">Front of Document</span>
            {frontUploaded && <span className="check-badge">✓</span>}
          </button>

          {/* Back of Document */}
          <button
            className={`upload-box ${backUploaded ? 'uploaded' : ''}`}
            onClick={handleUploadBack}
          >
            <div className="upload-icon">
              <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M14.6699 27.99L14.6699 17.35C14.6699 16.6155 15.2654 16.02 15.9999 16.02C16.7345 16.02 17.3299 16.6155 17.3299 17.35L17.3299 27.99C17.3299 28.7246 16.7345 29.32 15.9999 29.32C15.2654 29.32 14.6699 28.7246 14.6699 27.99Z" fill="#171A1F" />
                <path d="M11.1716 2.73277C12.7811 2.60513 14.3992 2.84542 15.902 3.43543C17.4046 4.02548 18.7539 4.94988 19.8465 6.1383C20.711 7.07868 21.3938 8.16628 21.8714 9.3451H23.3144L23.608 9.35161C25.0738 9.41023 26.4913 9.90765 27.6733 10.7842C28.9337 11.7189 29.8594 13.0349 30.315 14.5365C30.7707 16.0385 30.7309 17.6475 30.2021 19.1253C29.6732 20.6029 28.6835 21.872 27.3784 22.7438L27.2615 22.8127C26.666 23.1286 25.9166 22.9488 25.5341 22.3762C25.126 21.7655 25.2908 20.94 25.9017 20.5319L26.2029 20.3111C26.8844 19.7722 27.4035 19.0517 27.698 18.2291C28.0345 17.2888 28.0605 16.265 27.7706 15.3093C27.4808 14.3535 26.8909 13.5158 26.0887 12.9208C25.3868 12.4003 24.5544 12.0903 23.6884 12.0207L23.3144 12.0051H20.9336C20.3459 12.0049 19.8277 11.6189 19.6595 11.0557C19.3131 9.89563 18.7072 8.82974 17.8879 7.93848C17.0684 7.04708 16.0562 6.35352 14.9292 5.911C13.8021 5.46861 12.589 5.28796 11.3821 5.38368C10.1751 5.47946 9.00543 5.84841 7.96224 6.46301C6.91897 7.07765 6.02946 7.92266 5.36069 8.93209C4.6921 9.94137 4.26133 11.0894 4.10213 12.2896C3.94291 13.49 4.05991 14.7112 4.44242 15.86C4.82493 17.0087 5.46324 18.0561 6.31013 18.9214C6.82373 19.4464 6.8155 20.2884 6.29064 20.802C5.76579 21.3158 4.92376 21.306 4.40994 20.7813L3.99952 20.3371C3.07296 19.2761 2.36375 18.0407 1.9175 16.7003C1.40749 15.1685 1.25325 13.5406 1.4655 11.9402C1.67776 10.3398 2.25202 8.80894 3.14358 7.46311C4.03528 6.11719 5.22174 4.9914 6.61276 4.17188C8.00359 3.35251 9.56247 2.86048 11.1716 2.73277Z" fill="#171A1F" />
                <path d="M15.1609 16.3087C15.6833 15.8827 16.4534 15.9128 16.9403 16.3997L22.2603 21.7197L22.3513 21.8211C22.7773 22.3433 22.7472 23.1134 22.2603 23.6003C21.7734 24.0874 21.0033 24.1174 20.4809 23.6913L20.3797 23.6003L16 19.2208L11.6204 23.6003C11.1009 24.1198 10.259 24.1198 9.73964 23.6003C9.22025 23.081 9.22025 22.2391 9.73964 21.7197L15.0597 16.3997L15.1609 16.3087Z" fill="#171A1F" />
              </svg>
            </div>
            <span className="upload-text">Back of Document</span>
            {backUploaded && <span className="check-badge">✓</span>}
          </button>

          {/* Selfie */}
          <button
            className={`upload-box ${selfieUploaded ? 'uploaded' : ''}`}
            onClick={handleUploadSelfie}
          >
            <div className="upload-icon">
              <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M27.9701 12.01C27.9701 11.6573 27.8299 11.3191 27.5804 11.0697C27.3622 10.8514 27.0758 10.7167 26.7713 10.6865L26.6401 10.68L22.6501 10.68C22.2555 10.68 21.8806 10.5052 21.6279 10.2021L18.7016 6.69003L13.2986 6.69003L10.3723 10.2021C10.1196 10.5052 9.74478 10.68 9.35012 10.68L5.36012 10.68C5.00737 10.68 4.6692 10.8203 4.41977 11.0697C4.17034 11.3191 4.03012 11.6573 4.03012 12.01L4.03012 23.98C4.03012 24.3327 4.17034 24.671 4.41977 24.9203C4.6692 25.1698 5.00737 25.31 5.36012 25.31L26.6401 25.31C26.9928 25.31 27.3311 25.1698 27.5804 24.9203C27.8299 24.671 27.9701 24.3327 27.9701 23.98V12.01ZM30.6301 23.98C30.6301 25.0383 30.2094 26.0528 29.4612 26.8011C28.7129 27.5494 27.6984 27.97 26.6401 27.97L5.36012 27.97C4.3019 27.97 3.28734 27.5494 2.53907 26.8011C1.7908 26.0528 1.37012 25.0382 1.37012 23.98L1.37012 12.01C1.37012 10.9518 1.7908 9.93725 2.53907 9.18898C3.28734 8.44071 4.3019 8.02003 5.36012 8.02003L8.72668 8.02003L11.6529 4.508L11.7543 4.4015C12.0006 4.16482 12.3298 4.03003 12.6751 4.03003L19.3251 4.03003L19.472 4.03782C19.8114 4.07549 20.1262 4.24271 20.3474 4.508L23.2736 8.02003L26.6401 8.02003L27.035 8.03951C27.9482 8.1303 28.8066 8.53435 29.4612 9.18898C30.2094 9.93725 30.6301 10.9518 30.6301 12.01V23.98Z" fill="#171A1F" />
                <path d="M18.6602 17.33C18.6602 15.8609 17.4693 14.67 16.0002 14.67C14.5311 14.67 13.3402 15.8609 13.3402 17.33C13.3402 18.7991 14.5311 19.99 16.0002 19.99C17.4693 19.99 18.6602 18.7991 18.6602 17.33ZM21.3202 17.33C21.3202 20.2681 18.9383 22.65 16.0002 22.65C13.062 22.65 10.6802 20.2681 10.6802 17.33C10.6802 14.3919 13.062 12.01 16.0002 12.01C18.9383 12.01 21.3202 14.3919 21.3202 17.33Z" fill="#171A1F" />
              </svg>
            </div>
            <span className="upload-text">Selfie</span>
            {selfieUploaded && <span className="check-badge">✓</span>}
          </button>

          {/* Instruction */}
          <p className="upload-instruction">Ensure clarity and no glare</p>
        </div>

        {/* Continue Button */}
        <button className="kyc-continue-btn" onClick={handleContinue}>
          Upload & Continue
        </button>
      </div>
    </div>
  );
};

export default KYCVerificationStep2Screen;
